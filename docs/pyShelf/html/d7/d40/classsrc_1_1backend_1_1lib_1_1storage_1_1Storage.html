<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>pyShelf Open Source Ebook Server: src.backend.lib.storage.Storage Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">pyShelf Open Source Ebook Server<span id="projectnumber">&#160;0.8.0</span>
   </div>
   <div id="projectbrief">FOSS E-Book Server, https://pyshelf.com</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<div id="main-nav">
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="../../classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="../../hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- main-nav -->
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>src</b></li><li class="navelem"><b>backend</b></li><li class="navelem"><b>lib</b></li><li class="navelem"><a href="../../dd/de1/namespacesrc_1_1backend_1_1lib_1_1storage.html">storage</a></li><li class="navelem"><a href="../../d7/d40/classsrc_1_1backend_1_1lib_1_1storage_1_1Storage.html">Storage</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="../../db/d9a/classsrc_1_1backend_1_1lib_1_1storage_1_1Storage-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">src.backend.lib.storage.Storage Class Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-methods" class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a43da65b09eebf9a3f72b3329f88567e9" id="r_a43da65b09eebf9a3f72b3329f88567e9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a43da65b09eebf9a3f72b3329f88567e9">__init__</a> (self, config)</td></tr>
<tr class="memitem:a803ef3a255fa00ee9279bb9cefc571f6" id="r_a803ef3a255fa00ee9279bb9cefc571f6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a803ef3a255fa00ee9279bb9cefc571f6">get_connection_string</a> (self)</td></tr>
<tr class="memitem:a2f472b2053439b52f9a703e593f385e6" id="r_a2f472b2053439b52f9a703e593f385e6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2f472b2053439b52f9a703e593f385e6">create_tables</a> (self)</td></tr>
<tr class="memitem:a4e58e1d75ec604c1dc9b312531fbd670" id="r_a4e58e1d75ec604c1dc9b312531fbd670"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4e58e1d75ec604c1dc9b312531fbd670">insert_book</a> (self, book)</td></tr>
<tr class="memitem:abd8d95e5413f2a352d98566e7194d1dd" id="r_abd8d95e5413f2a352d98566e7194d1dd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abd8d95e5413f2a352d98566e7194d1dd">book_paths_list</a> (self)</td></tr>
<tr class="memitem:ad0b3176f728194703910695cbaef9adb" id="r_ad0b3176f728194703910695cbaef9adb"><td class="memItemLeft" align="right" valign="top">list()&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad0b3176f728194703910695cbaef9adb">parse_collections_from_path</a> (self, dict() book)</td></tr>
<tr class="memitem:acacbb3bf0a9e47914e03a1a988ea15d1" id="r_acacbb3bf0a9e47914e03a1a988ea15d1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acacbb3bf0a9e47914e03a1a988ea15d1">make_collections</a> (self)</td></tr>
<tr class="memitem:acf1c394db6999aa7a1e247219daca950" id="r_acf1c394db6999aa7a1e247219daca950"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acf1c394db6999aa7a1e247219daca950">get_books</a> (self, collection=None, skip=None, limit=None)</td></tr>
<tr class="memitem:a8405c7e41009cd67dd9e0029a6dc61a0" id="r_a8405c7e41009cd67dd9e0029a6dc61a0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8405c7e41009cd67dd9e0029a6dc61a0">get_book</a> (self, id)</td></tr>
<tr class="memitem:aa2008b1078dddcc432d37465ca2c803b" id="r_aa2008b1078dddcc432d37465ca2c803b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa2008b1078dddcc432d37465ca2c803b">get_collections</a> (self)</td></tr>
<tr class="memitem:ae05823894dc6af9f3ef4b44e38526dbc" id="r_ae05823894dc6af9f3ef4b44e38526dbc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae05823894dc6af9f3ef4b44e38526dbc">get_collection</a> (self, name)</td></tr>
<tr class="memitem:a1fdf99cac9caa8cb5b988e5f578a8310" id="r_a1fdf99cac9caa8cb5b988e5f578a8310"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1fdf99cac9caa8cb5b988e5f578a8310">parse_advanced_query</a> (self, str query)</td></tr>
<tr class="memitem:ae1b8ecfb09ad268a07c8abf67042cc59" id="r_ae1b8ecfb09ad268a07c8abf67042cc59"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae1b8ecfb09ad268a07c8abf67042cc59">fuzzy_search_books</a> (self, str query, int limit=30)</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-attribs" class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a289524152eea2c6f87ebe75b57702f8e" id="r_a289524152eea2c6f87ebe75b57702f8e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a289524152eea2c6f87ebe75b57702f8e">config</a> = config</td></tr>
<tr class="memitem:a590a49f74a9d7afac613ee447e8056d7" id="r_a590a49f74a9d7afac613ee447e8056d7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a590a49f74a9d7afac613ee447e8056d7">sql</a> = self.config.catalogue_db</td></tr>
<tr class="memitem:a8163ce045eb3cf6e2ac26797ec712b7d" id="r_a8163ce045eb3cf6e2ac26797ec712b7d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8163ce045eb3cf6e2ac26797ec712b7d">user</a> = self.config.user</td></tr>
<tr class="memitem:a5dd09d87e35603506a37b61a68c98d43" id="r_a5dd09d87e35603506a37b61a68c98d43"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5dd09d87e35603506a37b61a68c98d43">password</a> = self.config.password</td></tr>
<tr class="memitem:aa1f7326b0de7f089d60564af42311aa1" id="r_aa1f7326b0de7f089d60564af42311aa1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa1f7326b0de7f089d60564af42311aa1">db_host</a> = self.config.db_host</td></tr>
<tr class="memitem:a26ddd4bc23e668c5cba6473366e1e107" id="r_a26ddd4bc23e668c5cba6473366e1e107"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a26ddd4bc23e668c5cba6473366e1e107">db_port</a> = self.config.db_port</td></tr>
<tr class="memitem:a562ed8318845aa2743280dd146293a8a" id="r_a562ed8318845aa2743280dd146293a8a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a562ed8318845aa2743280dd146293a8a">engine</a></td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Create a new Storage object.

&gt;&gt;&gt; db = Storage(config)

Parameters
----------
config : Config()
    Main program configuration.

Attributes
----------
config : Stores configuration
sql : Database Name
user : Database User Name
password : Database Password
db_host : Database Host
db_port : Database Port
engine : sqlalchemy.create_engine(url, executor, kw)
</pre> </div><a name="doc-constructors" id="doc-constructors"></a><h2 id="header-doc-constructors" class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a43da65b09eebf9a3f72b3329f88567e9" name="a43da65b09eebf9a3f72b3329f88567e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43da65b09eebf9a3f72b3329f88567e9">&#9670;&#160;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">src.backend.lib.storage.Storage.__init__ </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>config</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Initialize storage object.</pre> 
</div>
</div>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Member Function Documentation</h2>
<a id="abd8d95e5413f2a352d98566e7194d1dd" name="abd8d95e5413f2a352d98566e7194d1dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd8d95e5413f2a352d98566e7194d1dd">&#9670;&#160;</a></span>book_paths_list()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">src.backend.lib.storage.Storage.book_paths_list </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Get file paths from database for comparison to system files.

Returns
-------
_result : ScalarResult Object
</pre> 
</div>
</div>
<a id="a2f472b2053439b52f9a703e593f385e6" name="a2f472b2053439b52f9a703e593f385e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f472b2053439b52f9a703e593f385e6">&#9670;&#160;</a></span>create_tables()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">src.backend.lib.storage.Storage.create_tables </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Create table structure.</pre> 
</div>
</div>
<a id="ae1b8ecfb09ad268a07c8abf67042cc59" name="ae1b8ecfb09ad268a07c8abf67042cc59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1b8ecfb09ad268a07c8abf67042cc59">&#9670;&#160;</a></span>fuzzy_search_books()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">src.backend.lib.storage.Storage.fuzzy_search_books </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str</td>          <td class="paramname"><span class="paramname"><em>query</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int </td>          <td class="paramname"><span class="paramname"><em>limit</em></span><span class="paramdefsep"> = </span><span class="paramdefval">30</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a8405c7e41009cd67dd9e0029a6dc61a0" name="a8405c7e41009cd67dd9e0029a6dc61a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8405c7e41009cd67dd9e0029a6dc61a0">&#9670;&#160;</a></span>get_book()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">src.backend.lib.storage.Storage.get_book </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>id</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Get book from database.

Parameters
----------
id : int
    Book ID to filter by.

Returns
-------
_result : ScalarResult Object
</pre> 
</div>
</div>
<a id="acf1c394db6999aa7a1e247219daca950" name="acf1c394db6999aa7a1e247219daca950"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf1c394db6999aa7a1e247219daca950">&#9670;&#160;</a></span>get_books()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">src.backend.lib.storage.Storage.get_books </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>collection</em></span><span class="paramdefsep"> = </span><span class="paramdefval">None</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>skip</em></span><span class="paramdefsep"> = </span><span class="paramdefval">None</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>limit</em></span><span class="paramdefsep"> = </span><span class="paramdefval">None</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Get books from database.

Parameters
----------
collection : int or None
    Collection ID to filter by.
skip : int or None
    Number of records to skip (offset).
limit : int or None
    Maximum number of records to return.
</pre> 
</div>
</div>
<a id="ae05823894dc6af9f3ef4b44e38526dbc" name="ae05823894dc6af9f3ef4b44e38526dbc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae05823894dc6af9f3ef4b44e38526dbc">&#9670;&#160;</a></span>get_collection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">src.backend.lib.storage.Storage.get_collection </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>name</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Get collection from database.

Returns
-------
_result : ScalarResult Object
</pre> 
</div>
</div>
<a id="aa2008b1078dddcc432d37465ca2c803b" name="aa2008b1078dddcc432d37465ca2c803b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2008b1078dddcc432d37465ca2c803b">&#9670;&#160;</a></span>get_collections()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">src.backend.lib.storage.Storage.get_collections </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Get collections from database.

Returns
-------
_result : ScalarResult Object
</pre> 
</div>
</div>
<a id="a803ef3a255fa00ee9279bb9cefc571f6" name="a803ef3a255fa00ee9279bb9cefc571f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a803ef3a255fa00ee9279bb9cefc571f6">&#9670;&#160;</a></span>get_connection_string()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">src.backend.lib.storage.Storage.get_connection_string </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Get connection string.

Engine type references config.json:DB_ENGINE.

Returns
-------
str : sqlalchemy Connection String
</pre> 
</div>
</div>
<a id="a4e58e1d75ec604c1dc9b312531fbd670" name="a4e58e1d75ec604c1dc9b312531fbd670"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e58e1d75ec604c1dc9b312531fbd670">&#9670;&#160;</a></span>insert_book()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">src.backend.lib.storage.Storage.insert_book </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>book</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Insert a new book into the database.

Parameters
----------
book: dict()
    Book object to insert.

Returns
-------
bool
    True on success False on failure
</pre> 
</div>
</div>
<a id="acacbb3bf0a9e47914e03a1a988ea15d1" name="acacbb3bf0a9e47914e03a1a988ea15d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acacbb3bf0a9e47914e03a1a988ea15d1">&#9670;&#160;</a></span>make_collections()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">src.backend.lib.storage.Storage.make_collections </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Ensure collections exist and link them to books (many-to-many).</pre> 
</div>
</div>
<a id="a1fdf99cac9caa8cb5b988e5f578a8310" name="a1fdf99cac9caa8cb5b988e5f578a8310"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1fdf99cac9caa8cb5b988e5f578a8310">&#9670;&#160;</a></span>parse_advanced_query()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> dict src.backend.lib.storage.Storage.parse_advanced_query </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str</td>          <td class="paramname"><span class="paramname"><em>query</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Parse a query like 'title:"dark tower" author:king tags:fantasy'</pre> 
</div>
</div>
<a id="ad0b3176f728194703910695cbaef9adb" name="ad0b3176f728194703910695cbaef9adb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0b3176f728194703910695cbaef9adb">&#9670;&#160;</a></span>parse_collections_from_path()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> list() src.backend.lib.storage.Storage.parse_collections_from_path </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dict()</td>          <td class="paramname"><span class="paramname"><em>book</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Parse book path's to determine common folder structure.

Stores collections based on shared paths.

Parameters
----------
book : dict()
    Book object to parse.

Returns
-------
collections : list()
    List of collections.
</pre> 
</div>
</div>
<a name="doc-variable-members" id="doc-variable-members"></a><h2 id="header-doc-variable-members" class="groupheader">Member Data Documentation</h2>
<a id="a289524152eea2c6f87ebe75b57702f8e" name="a289524152eea2c6f87ebe75b57702f8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a289524152eea2c6f87ebe75b57702f8e">&#9670;&#160;</a></span>config</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">src.backend.lib.storage.Storage.config = config</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aa1f7326b0de7f089d60564af42311aa1" name="aa1f7326b0de7f089d60564af42311aa1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1f7326b0de7f089d60564af42311aa1">&#9670;&#160;</a></span>db_host</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">src.backend.lib.storage.Storage.db_host = self.config.db_host</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a26ddd4bc23e668c5cba6473366e1e107" name="a26ddd4bc23e668c5cba6473366e1e107"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26ddd4bc23e668c5cba6473366e1e107">&#9670;&#160;</a></span>db_port</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">src.backend.lib.storage.Storage.db_port = self.config.db_port</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a562ed8318845aa2743280dd146293a8a" name="a562ed8318845aa2743280dd146293a8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a562ed8318845aa2743280dd146293a8a">&#9670;&#160;</a></span>engine</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">src.backend.lib.storage.Storage.engine</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=  create_engine(self.get_connection_string(),</div>
<div class="line">                                    pool_pre_ping=<span class="keyword">True</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a5dd09d87e35603506a37b61a68c98d43" name="a5dd09d87e35603506a37b61a68c98d43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5dd09d87e35603506a37b61a68c98d43">&#9670;&#160;</a></span>password</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">src.backend.lib.storage.Storage.password = self.config.password</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a590a49f74a9d7afac613ee447e8056d7" name="a590a49f74a9d7afac613ee447e8056d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a590a49f74a9d7afac613ee447e8056d7">&#9670;&#160;</a></span>sql</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">src.backend.lib.storage.Storage.sql = self.config.catalogue_db</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a8163ce045eb3cf6e2ac26797ec712b7d" name="a8163ce045eb3cf6e2ac26797ec712b7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8163ce045eb3cf6e2ac26797ec712b7d">&#9670;&#160;</a></span>user</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">src.backend.lib.storage.Storage.user = self.config.user</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/backend/lib/<a class="el" href="">storage.py</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on <span class="timestamp"></span> for pyShelf Open Source Ebook Server by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
